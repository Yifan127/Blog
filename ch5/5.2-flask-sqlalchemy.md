### Flask SQlAlchemy

* sqlalchemy.exc.NoReferencedTableError: Foreign key associated with column 'weather_detail.basic_id' could not find table 'weatherbasic' with which to generate a foreign key to target column 'id'

the table name is automatically set for you unless overridden. It’s derived from the class name converted to lowercase and with “CamelCase” converted to “camel_case”.

* PickleType

#### Define table
1. Define a table
2. Define columns: **Integer, String, Boolean, Datetime**
3. Constriction: **unique**, **nullable**
4. Add **default** value

```python
class CurrentBasic(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    location = db.Column(db.String(50), nullable=False)
    description = db.Column(db.String(50), nullable=False)
    icon = db.Column(db.String(10), nullable=False)
    temperature = db.Column(db.Integer, nullable=False)
    temp_unit = db.Column(db.String(10), nullable=False)
    dt = db.Column(db.DateTime, nullable=False)
    amendment = db.Column(db.Boolean, nullable=False, default=False)
    last_update = db.Column(db.DateTime, nullable=False)
    
def __init__(self, session_id, location, description, icon, temperature, temp_unit, dt):
     self.location = location
     self.description = description
     self.icon = icon
     self.temperature = temperature
     self.temp_unit = temp_unit
     self.dt = dt
     self.last_update = datetime.now()

def __repr__(self):
     return '<CurrentBasic %r>' % self.location
```
#### PickleType

PickleType holds Python objects, which are serialized using pickle.
```python
class Daily(db.Model):
    id = db.Column(db.Integer, primary_key=True)
    location = db.Column(db.String(50), nullable=False)
    temp_unit = db.Column(db.String(10), nullable=False)
    daily_list = db.Column(db.PickleType, nullable=False)
    last_update = db.Column(db.DateTime, nullable=False)
```
   
   
#### Foreign Key & One to One Relationship
   
#### Query, filter, filter_by, distinct
   
#### Insert
 
#### Update

#### Import json file to database
```python
# load weather description
def load_description():
    with open('description.json', encoding='utf-8') as file:
        text = file.readlines()
        for line in text:
            data = json.loads(line)
            record = Description(data['desc_id'], data['group'],
                                 data['description'])
            db.session.add(record)
            db.session.commit()
```








