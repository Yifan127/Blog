### Flask Restful API

#### Use with Blueprint

In weatherapi.py:
```python
api_bp = Blueprint('api', __name__)
api = Api(api_bp)

class Current(Resource):
    def get(self, location):
        ...

api.add_resource(Current, '/current/<string:location>')
```
In the application's \_\_init\_\_.py, register the blueprint

```python
app = Flask(__name__)
app.register_blueprint(api_bp)
```

#### marshal_with() decorator
Use marshal_with() decorator and the fields module to describe the structure of your response.
```python
current_fields = {
    'id':  fields.Integer,
    'location': fields.String,
    'description': fields.String,
    'temperature': fields.Integer,
    'temp_unit': fields.String,
    'dt': fields.DateTime
    }
    
class Current(Resource):
    @marshal_with(current_fields)
    def get(self, location):
        '''get a location's current weather'''
        basic = CurrentBasic.query.filter_by(location=location).first_or_404()
        basic.detail = CurrentDetail.query.filter_by(basic_id=basic.id).first()
        return basic
```

